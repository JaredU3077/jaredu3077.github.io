// js/apps/terminal/content.js

const RESUME_CONTENT = `
╭─────────────────────────────────────────────────────────────────────────────╮
│                        JARED UBRIACO                                      │
│                   Senior Network Engineer                                  │
│                                                                             │
│  jubriaco@gmail.com | linkedin.com/injaredubriaco                        │
╰─────────────────────────────────────────────────────────────────────────────╯

PROFESSIONAL SUMMARY
─────────────────────────────────────────────────────────────────────────────
15 years of expertise in designing, securing, and enhancing enterprise 
network systems across healthcare, retail, gaming, transit, space, and 
manufacturing sectors. Recognized for tackling intricate technical debt, 
delivering critical solutions under tight deadlines. Skilled in network 
forensics and discovery, modernization, and automation. I align business 
goals and procedural operations with secure, high-performing, and compliant 
deployments. My leadership, stakeholder collaboration, and negotiation 
abilities drive digital transformation, promote teamwork, and achieve 
multimillion-dollar project success.

PROFESSIONAL EXPERIENCE
─────────────────────────────────────────────────────────────────────────────

Senior Network Engineer
Dennali Advanced Integrations at Amazon Kuiper, Redmond, WA | December 2023 - Present
• Designed and deployed mission-critical network infrastructure for space-to-ground 
  communications, integrating on-premises orbital satellites into isolated development 
  racks within a 48-hour deadline, averting costly delays and restoring critical 
  engineering operations.
• Pioneered Cisco ISE-driven microsegmentation and greenfield network management 
  for multi-site scientific environments, eliminating data cross-contamination and 
  reducing testing incident recovery time by 48 hours.
• Managed Nexus 9000/9300 switch stacks, performed device imaging, and resolved 
  daily tickets to maintain 100% network availability for science and manufacturing teams.
• Completed Cisco ACI bootcamp, applying fabric policies and tenant configurations 
  to optimize manufacturing site performance.
• Collaborated with cross-functional teams, leveraging negotiation skills to align 
  technical and business objectives for high-stakes projects. Day to day enterprise 
  support and ticket resolution.

Senior Technology Consultant
Riversstrong, Redmond, WA | May 2023 - October 2023
• Pre and Post Sales engineering. Deployed Cisco Meraki, Fortinet Firewalls, and 
  Cisco FTD/FMC for SMB clients in education, government, and utilities, enhancing 
  uptime via SD-WAN and IPSec VPNs.
• Utilized Auvik for network monitoring, resolving misconfigurations and VLAN 
  mismatches within 4 hours improving infrastructure reliability for all MSP customers.
• Deployed FreePBX Linux VoIP server for an engineering firm, reconstructing dial 
  plans and SIP trunks to achieve 100% functionality.
• Diagnosed legacy Cisco ISE and FortiGate issues, ensuring PCI/HIPAA compliance 
  and preventing costly hardware replacements.
• Fostered client trust through strategic problem-solving, retaining six-figure 
  hardware investments and securing multimillion-dollar project outcomes.

Senior Network Engineer
TekSystems at Sound Transit, Seattle, WA | April 2022 - March 2023
• Resolved critical P1MI incidents, troubleshooting Cisco ISE wireless disruptions, 
  NTP failures, and IPSec VPN outages to restore train signaling, payment processing, 
  and public Wi-Fi.
• Modernized SolarWinds infrastructure using Python and Ansible, increasing device 
  inventory accuracy from 78% to 100% and achieving PCI-compliant audits.
• Led statewide retail point-of-sale refresh, upgrading ORCA card systems and cabling, 
  earning a commendation coin for exceptional project delivery.
• Migrated Cisco ACS to ISE, configuring 802.1X and TACACS+ policies to secure 
  statewide wireless authentication.

Senior Network Engineer
ArenaNet, Bellevue, WA | July 2019 - April 2022
• Spearheaded network modernization with Arista leaf-spine architecture, EVPN/VXLAN, 
  and CloudVision Wireless, replacing legacy Cisco systems to support and modernize HQ.
• Deployed Palo Alto 5200 NGFWs in HA mode with Panorama, configuring layer 7 
  policies, App-ID, User-ID, and GlobalProtect VPN for 500+ secure remote workflows.
• Automated Cisco ACS-to-ISE migration using Python, managing Hyper-V virtual servers 
  for seamless policy configurations.
• Mentored help desk team, delegating junior-level tasks and inspiring one member 
  to earn their CCNA, enhancing team proficiency.

Network Engineer
Bealls, Bradenton, FL | April 2015 - December 2018
• Night project, commanded smart hands nightly to upgrade 110 store routers to Cisco 
  2900s and perform a wireless refresh with Cisco APs and Cisco Prime, sales were 
  store ready by opening.
• Orchestrated Cisco Meraki deployments for boutique brand locations.
• Led ISP auditing initiative, saving $250,000 monthly on unused accounts.
• Restored critical communications for 500+ stores within 24 hours post-disaster 
  using Cradlepoint 3/4G solutions, protecting $100,000-$4M in daily revenue per store.
• Day to day ticket resolution nationally, mentorship of helpdesk staff.

Computer Support Specialist
UCF, Ocala, FL | March 2013 - April 2015
• Provided comprehensive technical support to hundreds of students and faculty at 
  the Ocala satellite campus, resolving hardware, software, and network connectivity issues.
• Served as a testing proctor for academic assessments, configuring secure testing 
  environments with lockdown browsers and VLAN-based isolation to ensure compliance 
  with university policies.
• Balanced part-time role (20-30 hours/week) while pursuing an Associate of Arts 
  degree, demonstrating time management and adaptability under academic and professional pressure.

Network Manager
Thomas E Langley Medical Center, Sumterville, FL | July 2006 - August 2011
• Orchestrated end-to-end technical operations for a multi-site healthcare facility, 
  managing a Cisco-based network infrastructure and Windows Server domain to support 
  200+ users and ensure 99.9% uptime for critical medical services.
• Led a three-phase transition from paper to electronic health records (EHR) using 
  EPIC and Medical Manager, implementing secure data migration, user training, and 
  HIPAA-compliant policies, reducing record retrieval time by 70% and eliminating 
  paper-based errors.
• Deployed HP server chassis with Citrix XenApp for Wyse thin clients, virtualizing 
  clinical applications to enhance accessibility and reduce workstation maintenance.
• Designed and implemented network security measures, including VLAN segmentation 
  and access controls, to safeguard patient data and achieve HIPAA compliance during audits.

SKILLS
─────────────────────────────────────────────────────────────────────────────

Networking Technologies: Cisco (Catalyst, Nexus, ACI, Meraki), Arista (EVPN/VXLAN, CloudVision), Palo Alto NGFW, Fortinet, Juniper SRX, Brocade, FS, HP, Dell, SD-WAN, IPSec VPN

Security: Zero Trust, Microsegmentation, RBAC, PCI/HIPAA Compliance, 802.1X, TACACS+

Cloud & Virtualization: AWS (VPC, vCSR, Transit Gateway), Azure (ExpressRoute), VMware, Hyper-V

Monitoring & Analytics: SolarWinds, Splunk, Grafana, Wireshark, NetFlow, SNMP, Auvik

Automation & Programming: Python, Ansible, PowerShell, Bash, Terraform, Git, IaC

Management & Operations: Project Management, Vendor Management, Circuit Procurement, Change Management, Disaster Recovery, Stakeholder Engagement, Smart Hands Coordination

Soft Skills: Contracts and Negotiations, Cross-Functional Collaboration, Mentorship, Leadership, Auditing

CERTIFICATIONS
─────────────────────────────────────────────────────────────────────────────

• Cisco Certified Network Associate (CCNA)
• CompTIA Security+, CompTIA A+
• Cisco Network Automation Essentials DEVNAE
• InfiniBand Essentials

PROFESSIONAL DEVELOPMENT
─────────────────────────────────────────────────────────────────────────────

Studying: ISC2 CC, RDMA over RCOE, Nvidia Cumulus Linux

Interests: OSINT, Web Scraping, NLP, Vibe Coding, Crypto, NFTs, Python and 
Quant Finance, Artificial Intelligence and Machine Learning

Professional References Available upon request.
`;

export function loadResume() {
    return RESUME_CONTENT.trimStart();
}

export function handleShow(terminal, args) {
    const [section] = args;
    if (!section) {
        return 'Usage: show <section>\nSections: resume, jared, demoscene';
    }
    switch (section.toLowerCase()) {
        case 'resume':
        case 'jared':
            // Create properly formatted resume output with responsive styling
            const resumeContent = loadResume();
            const outputDiv = document.createElement('div');
            outputDiv.className = 'terminal-result resume-content';
            outputDiv.style.animation = 'resultSlideIn 0.3s ease-out';
            
            // Parse and format the resume content properly
            const lines = resumeContent.split('\n');
            let formattedContent = '';
            let inHeader = false;
            let currentSection = '';
            let paragraphBuffer = '';
            let currentJobTitle = '';
            
            for (let i = 0; i < lines.length; i++) {
                const line = lines[i];
                
                // Handle header section
                if (line.includes('╭─') && line.includes('╮')) {
                    inHeader = true;
                    formattedContent += '<div class="resume-header-border">';
                    continue;
                }
                
                if (line.includes('╰─') && line.includes('╯')) {
                    inHeader = false;
                    formattedContent += '</div>';
                    continue;
                }
                
                if (inHeader && line.includes('│')) {
                    const content = line.replace(/^│\s*/, '').replace(/\s*│$/, '');
                    if (content.includes('JARED UBRIACO')) {
                        formattedContent += `<div class="resume-name">${content}</div>`;
                    } else if (content.includes('Senior Network Engineer')) {
                        formattedContent += `<div class="resume-title">${content}</div>`;
                    } else if (content.includes('@') || content.includes('linkedin')) {
                        formattedContent += `<div class="resume-contact">${content}</div>`;
                    } else {
                        formattedContent += `<div class="resume-line">${content}</div>`;
                    }
                    continue;
                }
                
                // Handle section headers
                if (line.match(/^[A-Z\s]+$/)) {
                    // Flush any pending paragraph content
                    if (paragraphBuffer.trim()) {
                        formattedContent += `<div class="resume-paragraph">${paragraphBuffer.trim()}</div>`;
                        paragraphBuffer = '';
                    }
                    
                    currentSection = line.trim();
                    formattedContent += `<div class="resume-section-title">${line}</div>`;
                    continue;
                }
                
                // Handle dividers
                if (line.match(/^─+$/)) {
                    // Flush any pending paragraph content
                    if (paragraphBuffer.trim()) {
                        formattedContent += `<div class="resume-paragraph">${paragraphBuffer.trim()}</div>`;
                        paragraphBuffer = '';
                    }
                    
                    formattedContent += `<div class="resume-divider">${line}</div>`;
                    continue;
                }
                
                // Handle job titles (standalone lines)
                if ((line.includes('Engineer') || line.includes('Consultant') || line.includes('Specialist') || line.includes('Manager')) && 
                    !line.includes('|') && !line.includes('•') && line.trim().length > 0) {
                    // This is a job title line - store it for the next company/date line
                    currentJobTitle = line.trim();
                    continue;
                }
                
                // Handle company and date lines
                if (line.includes('|') && (line.includes('WA') || line.includes('FL') || line.includes('Present'))) {
                    // Flush any pending paragraph content
                    if (paragraphBuffer.trim()) {
                        formattedContent += `<div class="resume-paragraph">${paragraphBuffer.trim()}</div>`;
                        paragraphBuffer = '';
                    }
                    
                    const parts = line.split('|');
                    if (parts.length >= 2) {
                        const company = parts[0].trim();
                        const date = parts[1].trim();
                        
                        formattedContent += `<div class="resume-job-entry">
                            <div class="resume-job-title">${currentJobTitle || 'Job Title'}</div>
                            <div class="resume-job-company">${company} | ${date}</div>
                        </div>`;
                        currentJobTitle = ''; // Reset for next job
                        // Add minimal spacing after job entry
                        formattedContent += `<div style="margin-bottom: 5px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 2px;"></div>`;
                    } else {
                        formattedContent += `<div class="resume-line">${line}</div>`;
                    }
                    continue;
                }
                
                // Handle bullet points
                if (line.trim().startsWith('•')) {
                    // Flush any pending paragraph content
                    if (paragraphBuffer.trim()) {
                        formattedContent += `<div class="resume-paragraph">${paragraphBuffer.trim()}</div>`;
                        paragraphBuffer = '';
                    }
                    
                    // Keep the bullet character in the HTML
                    const bulletContent = line.trim();
                    formattedContent += `<div class="resume-bullet">${bulletContent}</div>`;
                    continue;
                }
                
                // Handle continuation of bullet points (lines that start with spaces after a bullet)
                if (line.trim() && !line.trim().startsWith('•') && 
                    (line.startsWith('  ') || line.startsWith('\t')) && 
                    currentSection === 'PROFESSIONAL EXPERIENCE') {
                    // This is a continuation of the previous bullet point
                    const continuationContent = line.trim();
                    // Find the last bullet point and append to it
                    const lastBullet = formattedContent.lastIndexOf('<div class="resume-bullet">');
                    if (lastBullet !== -1) {
                        const endTag = formattedContent.indexOf('</div>', lastBullet);
                        if (endTag !== -1) {
                            const beforeContent = formattedContent.substring(0, endTag);
                            const afterContent = formattedContent.substring(endTag);
                            formattedContent = beforeContent + ' ' + continuationContent + afterContent;
                        }
                    }
                    continue;
                }
                
                // Handle regular content with better formatting
                if (line.trim()) {
                    // Check if this is a skills section
                    if (currentSection === 'SKILLS' && line.includes(':')) {
                        // Flush any pending paragraph content
                        if (paragraphBuffer.trim()) {
                            formattedContent += `<div class="resume-paragraph">${paragraphBuffer.trim()}</div>`;
                            paragraphBuffer = '';
                        }
                        
                        // Use simple line formatting for skills, just like certifications
                        formattedContent += `<div class="resume-line">${line}</div>`;
                    } else {
                        // Add to paragraph buffer for continuous text
                        if (paragraphBuffer) {
                            paragraphBuffer += ' ' + line.trim();
                        } else {
                            paragraphBuffer = line.trim();
                        }
                    }
                } else {
                    // Empty line - flush paragraph buffer but don't add extra spacing
                    if (paragraphBuffer.trim()) {
                        formattedContent += `<div class="resume-paragraph">${paragraphBuffer.trim()}</div>`;
                        paragraphBuffer = '';
                    }
                    // Don't add any extra spacing for empty lines
                }
            }
            
            // Flush any remaining paragraph content
            if (paragraphBuffer.trim()) {
                formattedContent += `<div class="resume-paragraph">${paragraphBuffer.trim()}</div>`;
            }
            
            outputDiv.innerHTML = `
                <div class="resume-container">
                    <div class="resume-content-text">
                        ${formattedContent}
                    </div>
                </div>
            `;
            
            terminal.outputElement.appendChild(outputDiv);
            
            // Handle scrolling and trimming
            terminal.trimOutput();
            if (!terminal._disableAutoScroll) {
                terminal.scrollToBottom();
            }
            
            return ''; // Return empty string to prevent further processing
        case 'demoscene':
            window.open('./demoscene/demoscene.html', '_blank');
            return 'Opening demoscene...';
        default:
            return `Unknown: ${section}\nSections: resume, jared, demoscene`;
    }
}